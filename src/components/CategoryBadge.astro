---
import { getEntry } from "astro:content"
import { lowerCase } from "lodash-es"

type Props = {
  category: string
  id?: string
  class?: string
}

const category = await getEntry("categories", Astro.props.category)
const { name } = category.data
const slug = lowerCase(name)
---

<span
  transition:name={`category-${category}-${slug}`}
  class:list={[
    "absolute left-4 top-4 z-10 rounded bg-teal-400/20 px-2 py-1 text-xs font-medium uppercase text-foreground backdrop-blur-md backdrop-contrast-75 backdrop-saturate-0",
    { "bg-rose-400/20": slug === "vekcast" },
    { "bg-blue-400/20": slug === "reports" },
    { "bg-green-400/20": slug === "film" },
    { "bg-yellow-400/20": slug === "calgary" },
    Astro.props.class,
  ]}>{name}</span
>

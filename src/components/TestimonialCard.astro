---
import { Image } from "astro:assets"
import type { CollectionEntry } from "astro:content"
export type Props = CollectionEntry<"testimonials">

const testimonial = Astro.props
const { Content } = await testimonial.render()
---

<div class="relative w-full rounded-xl bg-black p-8 ring-1 ring-gray-800">
  <div class="flex flex-col justify-center gap-6">
    {
      testimonial.data.image && (
        <div class="linear-gradient-mask -z-1 absolute right-0 top-0">
          <Image
            class="aspect-square w-56 opacity-50"
            src={testimonial.data.image}
            alt={testimonial.data.title}
          />
        </div>
      )
    }
    {
      testimonial.data.image && (
        <div class="aspect-square max-w-12 rounded bg-gray-800 p-2">
          <Image
            class="aspect-square w-full"
            src={testimonial.data.image}
            alt={testimonial.data.title}
          />
        </div>
      )
    }
    <div class="flex flex-col gap-2">
      <p class="mt-auto max-w-xl text-pretty text-lg">
        <Content />
      </p>
      <div class="flex gap-2">
        <span class="text-sm text-gray-400">
          {[testimonial.data.title, testimonial.data.subtitle].join(" â€¢ ")}
        </span>
      </div>
    </div>
  </div>
</div>

---
import type { Video } from '@/payload-types'
import type { Populated } from '@/utils/typeChecks'
import Image from './Image.tsx'

type Props = Populated<Video>
const { slug, ...data } = Astro.props

const category = data.type
---

<a
  href={`/videos/${slug}`}
  data-astro-history="replace"
  class="group flex max-w-56 min-w-48 flex-col overflow-hidden rounded-lg"
>
  <Image
    width={400}
    media={data.image}
    alt={data.title}
    className="aspect-video w-full rounded-lg object-cover duration-300 group-hover:opacity-75"
  />
  <div class="flex flex-col gap-1 p-2">
    <span
      class="text-xxs mr-2 inline-flex gap-2 overflow-clip tracking-widest whitespace-nowrap uppercase"
    >
      {category?.title}
    </span>
    <span>
      {data.title}
    </span>
  </div>
</a>
